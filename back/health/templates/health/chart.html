{% extends "core/page_content.html" %}
{% load static %}

{% block extrastyle %}
    {{ block.super }}
    <link href="{% static 'health/css/health.min.css' %}" rel="stylesheet">
{% endblock %}

{% block main %}
    {% include 'core/title.html' %}
    <div class="chart-container" style="width: 100%;">
        <div class="loader"></div>
        <canvas id="healthChart"></canvas>
    </div>
    <div class='row'>
        <form method="get">
            {{ form.incident }}
        </form>
    </div>
{% endblock %}

{% block extrascript %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@^3"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@^2"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@^1"></script>
<script src="{% static 'health/js/health.js' %}"></script>
<script>
    buildChart('{{mark}}');
    initFilter();
</script>
{% endblock %}
