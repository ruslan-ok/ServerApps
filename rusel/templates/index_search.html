{% extends "hier/page.html" %}
{% load static i18n %}

{% block extrastyle %}
  <link rel="stylesheet" type="text/css" href="{% static 'rok/css/search.css' %}">
{% endblock %}

{% block aside_conent %}
  <div class="launcher-menu">
    {% for app in apps %}
      <a href="{{ app.href }}" class="launcher-button"><img src="{% static app.icon %}"><span class="marked">{{ app.name }}</span></a>
    {% endfor %}
  </div>
{% endblock %}

{% block content %}
  <div class="w3-container">
        <h3>
          {{ title|capfirst }}
        </h3>
  
    <div class="w3-row w3-padding search">
      {% if not search_data %}
        {% trans 'Nothing found for' %} "{{ request.GET.q }}".
      {% else %}
        <div class="statistics">
          <div class="main-title-subline">
            {{ search_info }}
          </div>
          <div class="main-title-subline">
            {% trans 'results'|capfirst %}: {{ search_qty }}
          </div>
        </div>

        <ul class="results">
          {% for item in search_data %}
            <li class="element">
              <a class="link" href="{{ item.app }}/entity/{{ item.entity }}/{{ item.id|safe }}/" id="autofocus">
                <div class="determinant">
                  <div class="app">
                    <img class="icon" src="{% static item.app_icon %}">
                    <div class="name">{{ item.app_name }}</div>
                  </div>
                  {% if not item.main %}
                  <div class="entity">
                    <img class="icon" src="{% static item.ent_icon %}">
                    <div class="name">{{ item.ent_name }}</div>
                  </div>
                  {% endif %}
                  {% if item.detail1 %}
                  <div class="container">
                    <img class="icon" src="{% static 'rok/icon/inline/separator.png' %}">
                    <div class="name">{{ item.detail1 }}</div>
                  </div>
                  {% endif %}
                  {% if item.detail2 %}
                  <div class="container">
                    <img class="icon" src="{% static 'rok/icon/inline/separator.png' %}">
                    <div class="name">{{ item.detail2 }}</div>
                  </div>
                  {% endif %}
                </div>
                <div class="value">
                  <div class="name">{{ item.name }}</div>
                </div>
              </a> 
              <div class="info">{{ item.info|safe }}</div>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>
{% endblock %}
