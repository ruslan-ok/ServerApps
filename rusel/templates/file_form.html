{% extends "base_window.html" %}
{% load i18n %}

{% block breadcrumbs %}
  <a class="w3-bar-item w3-button" href="{% url 'file_list' 0 %}"><i class="fa fa-folder-open"></i></a>
  {% for node in chain reversed %}
    <a class="w3-bar-item w3-button" href="{% url 'file_list' node.id %}">{{ node.name }}</a>
  {% endfor %}
  {% if pk != 0 and qty == 0 %}
    <a class="w3-bar-item w3-button w3-red w3-right" href="{% url 'file_del' pk %}"><i class="fas fa-trash-alt fa-lg"></i></a>
  {% endif %}
{% endblock %}

{% block win_content %}
<div class="w3-container w3-padding">

  <form method="post" class="w3-container w3-card-4 w3-light-grey" style="width:30em">{% csrf_token %}

    {% if form.errors %} <p class="errornote"> {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %} </p> {% endif %}
    {% if form.non_field_errors %} {% for error in form.non_field_errors %} <p class="errornote"> {{ error }} </p> {% endfor %} {% endif %}

    <div class="w3-row w3-margin rok-field">
      {{ form.name.errors }} {{ form.name.label_tag }} {{ form.name }} {% if form.name.help_text %}<div class="help">{{ form.name.help_text|safe }}</div>{% endif %}
    </div>
    <div class="w3-row w3-margin rok-field">
      {{ form.code.errors }} {{ form.code.label_tag }} {{ form.code }} {% if form.code.help_text %}<div class="help">{{ form.code.help_text|safe }}</div>{% endif %}
    </div>
    <div class="w3-row w3-margin rok-field">
      {{ form.storage.errors }} {{ form.storage.label_tag }} {{ form.storage }} {% if form.storage.help_text %}<div class="help">{{ form.storage.help_text|safe }}</div>{% endif %}
    </div>
    <div class="w3-row w3-margin rok-field">
      {{ form.icon.errors }} {{ form.icon.label_tag }} {{ form.icon }} {% if form.icon.help_text %}<div class="help">{{ form.icon.help_text|safe }}</div>{% endif %}
    </div>
    <div class="w3-row w3-margin rok-field">
      {{ form.app.errors }} {{ form.app.label_tag }} {{ form.app }} {% if form.app.help_text %}<div class="help">{{ form.app.help_text|safe }}</div>{% endif %}
    </div>

    <div class="w3-row w3-padding">
      {% if pk == 0 %}
        <input type="submit" value="{% trans 'add'|capfirst %}" class="default">
      {% else %}
        <input type="submit" value="{% trans 'save'|capfirst %}" class="default">
      {% endif %}
      <p>
    </div>

  </form>

</div>
{% endblock %}
